<!doctype html><!-- This site was created with Wowchemy. https://www.wowchemy.com --><!-- Last Published: September 18, 2023 --><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.7.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><link rel=stylesheet href=/css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/academicons@1.9.2/css/academicons.min.css integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg==" crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=/css/wowchemy.042e26407c9e383d96a1f26d6787c686.css><link rel=stylesheet href=/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled><meta name=author content="Reza Mehrzi"><meta name=description content="This project scrapes detailed data from AI-related videos on YouTube and offers visualization insights based on the collected information."><link rel=alternate hreflang=en-us href=https://rezamehrizi.github.io/project/web-scrapping/><link rel=canonical href=https://rezamehrizi.github.io/project/web-scrapping/><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_180x180_fill_lanczos_center_3.png><meta name=theme-color content="#1565c0"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wowchemy"><meta property="twitter:creator" content="@wowchemy"><meta property="twitter:image" content="https://rezamehrizi.github.io/project/web-scrapping/featured.png"><meta property="og:site_name" content="Reza Mehrizi"><meta property="og:url" content="https://rezamehrizi.github.io/project/web-scrapping/"><meta property="og:title" content="Web Scraping Insights from AI Related YouTube Videos | Reza Mehrizi"><meta property="og:description" content="This project scrapes detailed data from AI-related videos on YouTube and offers visualization insights based on the collected information."><meta property="og:image" content="https://rezamehrizi.github.io/project/web-scrapping/featured.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2023-08-28T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-28T00:00:00+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://rezamehrizi.github.io/project/web-scrapping/"},"headline":"Web Scraping Insights from AI Related YouTube Videos","image":["https://rezamehrizi.github.io/project/web-scrapping/featured.png"],"datePublished":"2023-08-28T00:00:00Z","dateModified":"2023-08-28T00:00:00Z","author":{"@type":"Person","name":"Reza Mehrzi"},"publisher":{"@type":"Organization","name":"Reza Mehrizi","logo":{"@type":"ImageObject","url":"https://rezamehrizi.github.io/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_3.png"}},"description":"This project scrapes detailed data from AI-related videos on YouTube and offers visualization insights based on the collected information."}</script><title>Web Scraping Insights from AI Related YouTube Videos | Reza Mehrizi</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=984dd918e203a35f8a3a6fd96a0f5749><script src=/js/wowchemy-init.min.ec9d49ca50e4b80bdb08f0417a28ed84.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Reza Mehrizi</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Reza Mehrizi</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#skills><span>Skills</span></a></li><li class=nav-item><a class=nav-link href=/#experience><span>Experience</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/#featured><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/#contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class=nav-link data-toggle=dropdown aria-haspopup=true aria-label="Display preferences"><i class="fas fa-moon" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span></a>
<a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span></a>
<a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li></ul></div></nav></header></div><div class=page-body><article class="article article-project"><div class="article-container pt-3"><h1>Web Scraping Insights from AI Related YouTube Videos</h1><div class=article-metadata><span class=article-date>Aug 28, 2023</span></div><div class="btn-links mb-3"><a class="btn btn-outline-primary btn-page-header" href=/uploads/webscraping-analysis.py><i class="fas fa-file-alt mr-1"></i>Python Code</a>
<a class="btn btn-outline-primary btn-page-header" href=/uploads/data-processing.sql><i class="fas fa-file-alt mr-1"></i>SQL Code</a>
<a class="btn btn-outline-primary btn-page-header" href=/uploads/youtube_videos.csv><i class="fas fa-file-alt mr-1"></i>Dataset (CSV)</a>
<a class="btn btn-outline-primary btn-page-header" href=/uploads/youtube_videos_processed.csv><i class="fas fa-file-alt mr-1"></i>Processed Dataset (SQL)</a></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:720px;max-height:480px><div style=position:relative><img src=/project/web-scrapping/featured_hu7420071a1e591bd529df92fb2ae5aa90_865608_720x2500_fit_q75_h2_lanczos_3.webp width=720 height=480 alt class=featured-image></div></div><div class=article-container><div class=article-style><style>body{text-align:justify}</style><p>The impact of AI has been growing rapidly, with the introduction of ChatGPT being a significant contributor to this trend. As we look ahead, the AI landscape is poised for exciting and transformative changes. Hence, in this project, my focus will be on gathering data from YouTube videos related to Artificial Intelligence (AI). The project involves three main tasks as follows:</p><ol><li><p><a href=#web-scrapping-youtube-videos-dataset><strong>YouTube Videos Web Scrapping:</strong></a> I&rsquo;ll craft a Python script designed to tap into the YouTube API, allowing me to extract information from videos tied to the AI theme.</p></li><li><p><a href=#data-processing-using-sql><strong>Pre-processing Videos Dataset</strong></a> Once I&rsquo;ve got the data in hand, I&rsquo;ll smoothly slide it into a pandas data frame for better organization.</p></li><li><p><a href=#descriptive-analysis><strong>Descriptive Analysis of Videos Dataset:</strong></a> My next steps involve diving into analysis and visualizations, keeping things simple with the helpful Plotly Python library.</p></li></ol><p><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=ideogram-webscraping srcset="/project/web-scrapping/ideogram-webscraping_hubc38e678ca0830f15e5a1ce93450727e_63249_b902eb7733e67c63898031c6d9c7c21a.webp 400w,
/project/web-scrapping/ideogram-webscraping_hubc38e678ca0830f15e5a1ce93450727e_63249_aec770f18e2a095616a37ea6c784f8f8.webp 760w,
/project/web-scrapping/ideogram-webscraping_hubc38e678ca0830f15e5a1ce93450727e_63249_1200x1200_fit_q75_h2_lanczos.webp 1200w" src=/project/web-scrapping/ideogram-webscraping_hubc38e678ca0830f15e5a1ce93450727e_63249_b902eb7733e67c63898031c6d9c7c21a.webp width=760 height=475 loading=lazy data-zoomable></div></div></figure></p><h3 id=web-scrapping-youtube-videos-dataset>Web Scrapping YouTube Videos Dataset</h3><p>To kick things off, I&rsquo;ll go through the process of generating YouTube API key. Once that&rsquo;s in place, I&rsquo;ll navigate through Google&rsquo;s detailed YouTube API documentation to access various YouTube data. With that, I&rsquo;ll move on to crafting the Python code that forms the foundation of this section.</p><p><strong>API Key from Google:</strong> The first step involves creating a Google API key. I start by visiting the <a href="https://console.cloud.google.com/cloud-resource-manager?pli=1" target=_blank rel=noopener>Google Developer Console</a> through my browser. Once there, I sign in using my Google account. Upon signing in, I click the &ldquo;Create a Project&rdquo; button. Creating a project is a priority here, and I have options: I can either click the button or go to &ldquo;Select a Project&rdquo; at the top. Now, I create a fresh project, named &ldquo;YouTube Analysis Project&rdquo; and hit &ldquo;Create&rdquo;. Giving it a few seconds to come to life. Next, it&rsquo;s time to enable the API. In the Library, I search for the API I&rsquo;m aiming for – in this case, the YouTube Data API. I give it the green light by clicking &ldquo;Enable.&rdquo; Now, onto the final touch: crafting my API key. I slide over to the &ldquo;Credentials&rdquo; section on the left side and click &ldquo;Create Credential.&rdquo; For my project, I&rsquo;m sticking with an API key – no need for the OAuth client ID.</p><p><strong>Make API Requests:</strong> After I obtained my API key, I used it to authenticate my requests to the YouTube Data API. This key acted like my digital pass that let the API know I was authorized to access its resources. The YouTube Data API has various &ldquo;endpoints&rdquo; that correspond to different types of data or actions. For my project, I focused on the &ldquo;search&rdquo; endpoint, which allowed me to find videos based on specific search criteria. I constructed a request to this endpoint, specifying parameters like my API key and the search query &ldquo;Artificial Intelligence&rdquo; and &ldquo;AI&rdquo;.</p><p><strong>Request Parameters:</strong> API requests can be personalized by adding parameters. These parameters helped me tailor my request to my specific needs. For instance, I adjusted the number of results per page by setting the &ldquo;maxResults&rdquo; parameter. These parameters gave me flexibility in how I retrieved the data.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>search_keywords</span> <span class=o>=</span> <span class=s1>&#39;Artificial+Intelligence&#39;</span><span class=o>+</span><span class=s1>&#39;AI&#39;</span>
</span></span><span class=line><span class=cl><span class=n>params</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;part&#39;</span><span class=p>:</span> <span class=s1>&#39;snippet&#39;</span><span class=p>,</span>  <span class=c1># Retrieve basic video information</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;q&#39;</span><span class=p>:</span> <span class=s1>&#39;artificial intelligence&#39;</span><span class=p>,</span>  <span class=c1># Search term</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;maxResults&#39;</span><span class=p>:</span> <span class=mi>1000</span><span class=p>,</span>  <span class=c1># Number of results per page</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;key&#39;</span><span class=p>:</span> <span class=n>API_KEY</span>  <span class=c1># Your API key</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The provided code snippet is setting up parameters for making a search request to the YouTube Data API. <code>params = {...}</code> is a Python dictionary that stores the parameters needed for the API request. Here is the breakdown for this dictionary:</p><ul><li><code>'part': 'snippet'</code>: This parameter specifies that we want to retrieve basic information about the videos, like their titles, descriptions, and thumbnails. The <code>'snippet'</code> part is required in most API requests.</li><li><code>'q': 'search_keywords'</code>: This is the search term I’m looking for on YouTube. In this case, it&rsquo;s <code>search_keywords = 'Artificial+Intelligence'+'AI'</code>.</li><li><code>'maxResults': 1000</code>: This parameter indicates the maximum number of results I want per page. The value <code>1000</code> suggests you want to retrieve up to 1000 videos per page of the search results.</li><li><code>'key': API_KEY</code>: This is where I would insert my actual YouTube Data API key. The API key serves as my authentication to access the API.</li></ul><p>So, all together, this code is preparing the parameters for a YouTube Data API search request. It&rsquo;s set up to search for videos related to &ldquo;artificial intelligence&rdquo; and &ldquo;AI,&rdquo; retrieve basic information about those videos (like titles and descriptions), and return up to 1000 results per page. The <code>API_KEY</code> should be replaced with my actual YouTube Data API key for proper authentication.</p><p><strong>Parsing API Responses:</strong> When I made a request to the API, it responded with data in JSON format. JSON is a structured way of representing data that&rsquo;s easy for both humans and machines to understand. My task was to parse (read and interpret) this JSON response.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>BASE_URL</span> <span class=o>=</span> <span class=s1>&#39;https://www.googleapis.com/youtube/v3/search&#39;</span>
</span></span><span class=line><span class=cl><span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>BASE_URL</span><span class=p>,</span> <span class=n>params</span><span class=o>=</span><span class=n>params</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>data</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>search_keywords</span> <span class=o>=</span> <span class=s1>&#39;Artificial+Intelligence&#39;</span><span class=o>+</span><span class=s1>&#39;AI&#39;</span>
</span></span><span class=line><span class=cl><span class=n>params</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;part&#39;</span><span class=p>:</span> <span class=s1>&#39;snippet&#39;</span><span class=p>,</span>  <span class=c1># Retrieve basic video information</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;q&#39;</span><span class=p>:</span> <span class=s1>&#39;artificial intelligence&#39;</span><span class=p>,</span>  <span class=c1># Search term</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;maxResults&#39;</span><span class=p>:</span> <span class=mi>1000</span><span class=p>,</span>  <span class=c1># Number of results per page</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;key&#39;</span><span class=p>:</span> <span class=n>API_KEY</span>  <span class=c1># My API key</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The response included an array called &ldquo;items,&rdquo; where each item corresponded to a video.</p><p><strong>Extract Information:</strong> Within each video item, a treasure trove of information was waiting. This included details like the video&rsquo;s title, unique ID, upload date, and view count. I went through each item in the JSON response, extracting the specific pieces of information that were relevant to my project.</p><p><strong>Process the Response:</strong> I process the response from the YouTube Data API in order to extract and gather valuable information about the videos. For each video item in the API response, I perform the following steps:</p><details><summary style=color:green>Click to reveal code</summary><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;items&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=n>video_id</span> <span class=o>=</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>][</span><span class=s1>&#39;videoId&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>video_title</span> <span class=o>=</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;snippet&#39;</span><span class=p>][</span><span class=s1>&#39;title&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>published_at</span> <span class=o>=</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;snippet&#39;</span><span class=p>][</span><span class=s1>&#39;publishedAt&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Fetch additional video details using the video ID</span>
</span></span><span class=line><span class=cl>    <span class=n>video_details_url</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;https://www.googleapis.com/youtube/v3/videos?part=contentDetails,statistics,snippet&amp;id=</span><span class=si>{</span><span class=n>video_id</span><span class=si>}</span><span class=s2>&amp;key=</span><span class=si>{</span><span class=n>API_KEY</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>video_details_response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>video_details_url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>video_details_data</span> <span class=o>=</span> <span class=n>video_details_response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>video_info</span> <span class=o>=</span> <span class=n>video_details_data</span><span class=p>[</span><span class=s1>&#39;items&#39;</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Extract relevant information</span>
</span></span><span class=line><span class=cl>    <span class=n>video_duration</span> <span class=o>=</span> <span class=n>video_info</span><span class=p>[</span><span class=s1>&#39;contentDetails&#39;</span><span class=p>][</span><span class=s1>&#39;duration&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>like_count</span> <span class=o>=</span> <span class=n>video_info</span><span class=p>[</span><span class=s1>&#39;statistics&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;likeCount&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>dislike_count</span> <span class=o>=</span> <span class=n>video_info</span><span class=p>[</span><span class=s1>&#39;statistics&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;dislikeCount&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>comment_count</span> <span class=o>=</span> <span class=n>video_info</span><span class=p>[</span><span class=s1>&#39;statistics&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;commentCount&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tags</span> <span class=o>=</span> <span class=n>video_info</span><span class=p>[</span><span class=s1>&#39;snippet&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;tags&#39;</span><span class=p>,</span> <span class=p>[])</span>
</span></span><span class=line><span class=cl>    <span class=n>channel_title</span> <span class=o>=</span> <span class=n>video_info</span><span class=p>[</span><span class=s1>&#39;snippet&#39;</span><span class=p>][</span><span class=s1>&#39;channelTitle&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>category</span> <span class=o>=</span> <span class=n>video_info</span><span class=p>[</span><span class=s1>&#39;snippet&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;categoryId&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>thumbnails</span> <span class=o>=</span> <span class=n>video_info</span><span class=p>[</span><span class=s1>&#39;snippet&#39;</span><span class=p>][</span><span class=s1>&#39;thumbnails&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>video_url</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;https://www.youtube.com/watch?v=</span><span class=si>{</span><span class=n>video_id</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Create a dictionary to store video details</span>
</span></span><span class=line><span class=cl>    <span class=n>video_data</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;title&#39;</span><span class=p>:</span> <span class=n>video_title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;video_id&#39;</span><span class=p>:</span> <span class=n>video_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;published_at&#39;</span><span class=p>:</span> <span class=n>published_at</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;duration&#39;</span><span class=p>:</span> <span class=n>video_duration</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;like_count&#39;</span><span class=p>:</span> <span class=n>like_count</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;dislike_count&#39;</span><span class=p>:</span> <span class=n>dislike_count</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;comment_count&#39;</span><span class=p>:</span> <span class=n>comment_count</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;tags&#39;</span><span class=p>:</span> <span class=n>tags</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;channel_title&#39;</span><span class=p>:</span> <span class=n>channel_title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;category&#39;</span><span class=p>:</span> <span class=n>category</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;thumbnails&#39;</span><span class=p>:</span> <span class=n>thumbnails</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;video_url&#39;</span><span class=p>:</span> <span class=n>video_url</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Append video data to the list</span>
</span></span><span class=line><span class=cl>    <span class=n>all_video_details</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>video_data</span><span class=p>)</span>
</span></span></code></pre></div></details><p>Finally, I save the extracted video data into a CSV and SQL files.</p><details><summary style=color:green>Click to reveal code</summary><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Specify the CSV file path</span>
</span></span><span class=line><span class=cl><span class=n>csv_file_path</span> <span class=o>=</span> <span class=s1>&#39;youtube_videos.csv&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save video details to the CSV file</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>csv_file_path</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>newline</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>csv_file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>fieldnames</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;title&#39;</span><span class=p>,</span> <span class=s1>&#39;video_id&#39;</span><span class=p>,</span> <span class=s1>&#39;published_at&#39;</span><span class=p>,</span> <span class=s1>&#39;duration&#39;</span><span class=p>,</span> <span class=s1>&#39;like_count&#39;</span><span class=p>,</span> <span class=s1>&#39;dislike_count&#39;</span><span class=p>,</span> <span class=s1>&#39;comment_count&#39;</span><span class=p>,</span> <span class=s1>&#39;tags&#39;</span><span class=p>,</span> <span class=s1>&#39;channel_title&#39;</span><span class=p>,</span> <span class=s1>&#39;category&#39;</span><span class=p>,</span> <span class=s1>&#39;thumbnails&#39;</span><span class=p>,</span> <span class=s1>&#39;video_url&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>DictWriter</span><span class=p>(</span><span class=n>csv_file</span><span class=p>,</span> <span class=n>fieldnames</span><span class=o>=</span><span class=n>fieldnames</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>writer</span><span class=o>.</span><span class=n>writeheader</span><span class=p>()</span>  <span class=c1># Write header row</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>video_data</span> <span class=ow>in</span> <span class=n>all_video_details</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>writer</span><span class=o>.</span><span class=n>writerow</span><span class=p>(</span><span class=n>video_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sqlite3</span>  <span class=c1># Import the SQLite library</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialize the SQLite database connection</span>
</span></span><span class=line><span class=cl><span class=n>conn</span> <span class=o>=</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=s1>&#39;youtube_videos.db&#39;</span><span class=p>)</span>  <span class=c1># Create or connect to the database</span>
</span></span><span class=line><span class=cl><span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span>  <span class=c1># Create a cursor object</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a table to store the YouTube video data</span>
</span></span><span class=line><span class=cl><span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>    CREATE TABLE IF NOT EXISTS youtube_videos (
</span></span></span><span class=line><span class=cl><span class=s1>        id INTEGER PRIMARY KEY,
</span></span></span><span class=line><span class=cl><span class=s1>        title TEXT,
</span></span></span><span class=line><span class=cl><span class=s1>        video_id TEXT,
</span></span></span><span class=line><span class=cl><span class=s1>        published_at TEXT,
</span></span></span><span class=line><span class=cl><span class=s1>        duration TEXT,
</span></span></span><span class=line><span class=cl><span class=s1>        like_count INTEGER,
</span></span></span><span class=line><span class=cl><span class=s1>        dislike_count INTEGER,
</span></span></span><span class=line><span class=cl><span class=s1>        comment_count INTEGER,
</span></span></span><span class=line><span class=cl><span class=s1>        tags TEXT,
</span></span></span><span class=line><span class=cl><span class=s1>        channel_title TEXT,
</span></span></span><span class=line><span class=cl><span class=s1>        category TEXT,
</span></span></span><span class=line><span class=cl><span class=s1>        thumbnails TEXT,
</span></span></span><span class=line><span class=cl><span class=s1>        video_url TEXT
</span></span></span><span class=line><span class=cl><span class=s1>    )
</span></span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Process the response and save data to the database</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;items&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Your existing code to extract video information...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Insert data into the database</span>
</span></span><span class=line><span class=cl>    <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>        INSERT INTO youtube_videos (
</span></span></span><span class=line><span class=cl><span class=s1>            title, video_id, published_at, duration, like_count, dislike_count, 
</span></span></span><span class=line><span class=cl><span class=s1>            comment_count, tags, channel_title, category, thumbnails, video_url
</span></span></span><span class=line><span class=cl><span class=s1>        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
</span></span></span><span class=line><span class=cl><span class=s1>    &#39;&#39;&#39;</span><span class=p>,</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>video_title</span><span class=p>,</span> <span class=n>video_id</span><span class=p>,</span> <span class=n>published_at</span><span class=p>,</span> <span class=n>video_duration</span><span class=p>,</span> <span class=n>like_count</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>dislike_count</span><span class=p>,</span> <span class=n>comment_count</span><span class=p>,</span> <span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>tags</span><span class=p>),</span> <span class=n>channel_title</span><span class=p>,</span> <span class=n>category</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nb>str</span><span class=p>(</span><span class=n>thumbnails</span><span class=p>),</span> <span class=n>video_url</span>
</span></span><span class=line><span class=cl>    <span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Commit the changes and close the database connection</span>
</span></span><span class=line><span class=cl><span class=n>conn</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span></code></pre></div></details><p>This entire process allows me to efficiently process the API responses, extract relevant video details, and store them in a structured CSV file.</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=ideogram-processing srcset="/project/web-scrapping/ideogram-processing_hu7b2d9d2b4b133471a0134f833b3295ab_46896_604e96a30e44ec8cc5dc73cfd1ada025.webp 400w,
/project/web-scrapping/ideogram-processing_hu7b2d9d2b4b133471a0134f833b3295ab_46896_5d95a0511f66cb75513482286e657df1.webp 760w,
/project/web-scrapping/ideogram-processing_hu7b2d9d2b4b133471a0134f833b3295ab_46896_1200x1200_fit_q75_h2_lanczos.webp 1200w" src=/project/web-scrapping/ideogram-processing_hu7b2d9d2b4b133471a0134f833b3295ab_46896_604e96a30e44ec8cc5dc73cfd1ada025.webp width=760 height=475 loading=lazy data-zoomable></div></div></figure></p><h3 id=processing-youtube-video-dataset-using-sql>Processing YouTube Video Dataset Using SQL</h3><p>To prepare the data for further analysis, I will perform the following data processing steps. The data is stored in a database called <code>youtube_videos</code> and I will create an SQL script to improve the <code>youtube_videos</code> table by adding new columns and filling them with relevant data extracted from existing columns. This makes the data more informative and readable.</p><ol><li><p><strong>Dropping thumbnails Column:</strong> I will first remove the <code>thumbnails</code> column from the data set, as it is not needed.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Remove the &#39;thumbnails&#39; column from the youtube_videos table
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>youtube_videos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>DROP</span><span class=w> </span><span class=k>COLUMN</span><span class=w> </span><span class=n>thumbnails</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div></li><li><p><strong>Creating Columns for Year and Month:</strong> Two new columns, <code>year</code> and <code>month</code>, are added to the <code>youtube_videos</code> table. These columns will be used to store the year and month information extracted from the <code>published_at</code> column. This code updates the newly added <code>year</code> and <code>month</code> columns by extracting the corresponding values from the <code>published_at</code> column, assuming that the <code>published_at</code> column contains dates in the format &lsquo;YYYY-MM-DD&rsquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Add &#39;year&#39; and &#39;month&#39; columns to store publication date information
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w> </span><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>youtube_videos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=k>ADD</span><span class=w> </span><span class=k>year</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w> </span><span class=k>month</span><span class=w> </span><span class=nb>INT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=c1>-- Update the &#39;year&#39; and &#39;month&#39; columns based on the &#39;published_at&#39; column
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=n>youtube_videos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=k>SET</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=k>year</span><span class=w> </span><span class=o>=</span><span class=w>  </span><span class=k>SUBSTRING</span><span class=p>(</span><span class=n>published_at</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>),</span><span class=w>   </span><span class=c1>-- Extract the year part (e.g., &#39;2023&#39; from &#39;2023-09-10&#39;)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>     </span><span class=k>month</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>SUBSTRING</span><span class=p>(</span><span class=n>published_at</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>);</span><span class=w>  </span><span class=c1>-- Extract the month part (e.g., &#39;09&#39; from &#39;2023-09-10&#39;);
</span></span></span></code></pre></div></li><li><p><strong>Creating a Column for Duration in Minutes:</strong>
A new column, <code>duration_minutes</code> is added to the table to store the duration of videos in minutes. This part of the code calculates the duration of videos in minutes and updates the <code>duration_minutes</code> column based on the information in the <code>duration</code> column, which is expected to be in the format &lsquo;PT#H#M&rsquo; (e.g., &lsquo;PT5M&rsquo; for 5 minutes).</p></li></ol><details><summary style=color:green>Click to reveal code</summary><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Add a new column &#39;duration_minutes&#39; to store video duration in minutes
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w> </span><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>youtube_videos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=k>ADD</span><span class=w> </span><span class=n>duration_minutes</span><span class=w> </span><span class=nb>INT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=c1>-- Update &#39;duration_minutes&#39; based on the &#39;duration&#39; column (format: &#39;PT#H#M&#39;)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=n>youtube_videos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=k>SET</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=n>duration_minutes</span><span class=w> </span><span class=o>=</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=k>CASE</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=k>WHEN</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>THEN</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                 </span><span class=k>CASE</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                     </span><span class=k>WHEN</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                         </span><span class=c1>-- Calculate duration in minutes for &#39;HH:MM&#39; format (e.g., &#39;1H25M&#39; becomes 85 minutes)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>                         </span><span class=k>CAST</span><span class=p>(</span><span class=k>SUBSTRING</span><span class=p>(</span><span class=n>duration</span><span class=p>,</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>INT</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                         </span><span class=k>CAST</span><span class=p>(</span><span class=k>SUBSTRING</span><span class=p>(</span><span class=n>duration</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>INT</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>60</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                     </span><span class=k>ELSE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                         </span><span class=c1>-- Calculate duration in minutes for &#39;HH&#39; format (e.g., &#39;1H&#39; becomes 60 minutes)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>                         </span><span class=k>CAST</span><span class=p>(</span><span class=k>SUBSTRING</span><span class=p>(</span><span class=n>duration</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>INT</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>60</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                 </span><span class=k>END</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=k>WHEN</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                 </span><span class=c1>-- Extract duration in minutes for &#39;MM&#39; format (e.g., &#39;25M&#39; becomes 25 minutes)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>                 </span><span class=k>CAST</span><span class=p>(</span><span class=k>SUBSTRING</span><span class=p>(</span><span class=n>duration</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=n>CHARINDEX</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>INT</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=k>ELSE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                 </span><span class=mi>0</span><span class=w> </span><span class=c1>-- Handle cases with no &#39;H&#39; or &#39;M&#39; (e.g., &#34;PT52S&#34;)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>         </span><span class=k>END</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div></details><ol start=4><li><strong>Creating a Column for Category Name:</strong> A new column, <code>category_name</code>, is added to store the category names of videos. This code updates the <code>category_name</code> column based on the <code>category</code> column. It assigns human-readable category names to each video based on the <a href=#https://developers.google.com/youtube/v3/docs/videoCategories/list>category code</a>.</li></ol><details><summary style=color:green>Click to reveal code</summary><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Add the category_name column to youtube_videos
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>youtube_videos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ADD</span><span class=w> </span><span class=n>category_name</span><span class=w> </span><span class=n>NVARCHAR</span><span class=p>(</span><span class=mi>255</span><span class=p>);</span><span class=w> </span><span class=c1>-- Adjust the data type and length as needed
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Update the category_name column based on the category code
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>UPDATE</span><span class=w> </span><span class=n>youtube_videos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SET</span><span class=w> </span><span class=n>category_name</span><span class=w> </span><span class=o>=</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>CASE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;1&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Film &amp; Animation&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;2&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Autos &amp; Vehicles&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;10&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Music&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;15&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Pets &amp; Animals&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;17&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Sports&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;18&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Short Movies&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;19&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Travel &amp; Events&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;20&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Gaming&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;21&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Videoblogging&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;22&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;People &amp; Blogs&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;23&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Comedy&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;24&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Entertainment&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;25&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;News &amp; Politics&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;26&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Howto &amp; Style&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;27&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Education&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;28&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Science &amp; Technology&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;29&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Nonprofits &amp; Activism&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;30&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Movies&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;31&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Anime/Animation&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;32&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Action/Adventure&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;33&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Classics&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;34&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Comedy&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;35&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Documentary&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;36&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Drama&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;37&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Family&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;38&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Foreign&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;39&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Horror&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;40&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Sci-Fi/Fantasy&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;41&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Thriller&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;42&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Shorts&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;43&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Shows&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=n>category</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;44&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Trailers&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ELSE</span><span class=w> </span><span class=s1>&#39;Unknown&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   
</span></span></span></code></pre></div></details><p>Finally, I stored the processed data set to a CSV file for conducting descrptive analysis in Python.</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=ideogram-analysis srcset="/project/web-scrapping/ideogram-analysis_hu69508825fb595141711cf3ee5f963145_36697_8e43d24ebf3eaf394a6ba505382df96d.webp 400w,
/project/web-scrapping/ideogram-analysis_hu69508825fb595141711cf3ee5f963145_36697_4804986f866ca3f769d0b417160d6f3a.webp 760w,
/project/web-scrapping/ideogram-analysis_hu69508825fb595141711cf3ee5f963145_36697_1200x1200_fit_q75_h2_lanczos.webp 1200w" src=/project/web-scrapping/ideogram-analysis_hu69508825fb595141711cf3ee5f963145_36697_8e43d24ebf3eaf394a6ba505382df96d.webp width=760 height=475 loading=lazy data-zoomable></div></div></figure></p><h3 id=descriptive-analysis-of-youtube-video-dataset>Descriptive Analysis of YouTube Video Dataset</h3><p>After conducting an initial data cleaning process using SQL, I will be performing a through analysis, splitting it into three parts as follows:</p><ul><li><p><a href=#engagement-analysis><strong>Engagement Analysis:</strong></a> This part focuses on how viewers interact with YouTube videos. I examine which video categories are most popular, what are the average of likes and comments count for each category, and how video publication affects engagement.</p></li><li><p><a href=#duration-analysis><strong>Duration Analysis:</strong></a> The second part explores the connection between video length and user engagement, revealing the ideal video durations.</p></li><li><p><a href=#text-analysis><strong>Text Analysis:</strong></a> The third part uncovers the secrets of video titles. We analyze the most frequent words and phrases in video titles and determine whether positive or negative titles tend to draw more viewers.</p></li></ul><p>These three analytical sections together provide a holistic view of what makes YouTube videos successful, from viewer behavior and video length to the power of titles.</p><h4 id=engagement-analysis>Engagement Analysis:</h4><p>In this section, I looked deeper into the YouTube dataset, aiming to answer the key questions regarding what engages online viewers. The followings are three questions in this regard:</p><p><em>1. Determine the most published video categories based on the &ldquo;category_name&rdquo; column?</em></p><p>By grouping the videos according to their categories using the &ldquo;category_name&rdquo; column, I can calculate the total number of videos published for each category. This helps me to order the categories based on their number of published videos and find out which ones are more popular.</p><!-- Embed the Plotly plot using an iframe --><iframe src=engagement-category-video-numbers.html width=800 height=600 frameborder=0></iframe><p>The bar graph shows the distribution of videos across different categories on a video sharing platform. It suggests that the platform users are more interested in topics related to current affairs, learning, and innovation, as these categories have the highest number of videos. On the other hand, categories such as sports, gaming, and film & animation have fewer videos, indicating that they are less popular or less frequently uploaded. The graph also reveals the diversity of content available on the platform, as it covers a wide range of genres and interests.</p><!-- Embed the Plotly plot using an iframe --><iframe src=engagement-year-line.html width=800 height=600 frameborder=0></iframe><p>The line graph shows the trend in the number of videos published each year from 2012 to 2022. It indicates that the video publishing activity has increased steadily over the years, with a significant jump from 2020 to 2022. This could suggest that the video sharing platform has gained more popularity and users in recent years, or that the users have become more active and creative in producing and uploading videos. The graph also shows the growth potential of the platform, as the number of videos published has not reached a plateau yet.</p><p><em>2. Calculate the average number of likes and comments for videos in each category?</em></p><p>I also calculate the average number of likes and comments per video for each category to measure the level of engagement. This helps us identify which categories generate more interactions and feedback from viewers.</p><!-- Embed the Plotly plot using an iframe --><iframe src=engagement-category-likes-comments.html width=800 height=600 frameborder=0></iframe><p>The bar graph shows the average number of likes and comments for different video categories. It suggests that the videos in the &ldquo;Comedy&rdquo; and &ldquo;Science & Technology&rdquo; categories are more engaging and appealing to the viewers, as they receive more likes and comments than other categories. On the other hand, the videos in the &ldquo;News & Politics&rdquo; and &ldquo;Sports&rdquo; categories are less interactive and attractive, as they receive fewer likes and comments. The graph also reveals the preferences and tastes of the viewers, as they seem to enjoy humorous and informative content more than other types of content.</p><p><em>3. Analyze how video publication dates correlate with engagement. Do videos published on specific days or months tend to get more engagement?</em></p><p>Furthermore, I analyze how video publication dates affect engagement. I investigate whether videos published on certain days of the week or months of the year tend to get more likes and comments. This enables us to discover any seasonal or temporal patterns in viewer behavior and preferences.</p><!-- Embed the Plotly plot using an iframe --><iframe src=engagement-months.html width=800 height=600 frameborder=0></iframe>
Hello, this is Bing. Based on the image description, here is a possible interpretation of the result:<p>The bar graph shows the average engagement by month. It indicates that the engagement varies throughout the year, with a peak in December and a dip in March. This could suggest that the engagement is influenced by seasonal factors, such as holidays, weather, or events. For example, December might have higher engagement because of Christmas, New Year, or winter break. March might have lower engagement because of spring break, exams, or less activity. The graph also shows the potential for increasing engagement in other months by creating more relevant and appealing content.</p><iframe src=engagement-years.html width=800 height=600 frameborder=0></iframe><p>The bar graph shows the average engagement by year from 2012 to 2023. It suggests that the engagement has been declining over time, with a sharp drop from 2016 to 2022. This could indicate that the platform or the content has lost its appeal or relevance to the viewers, or that there is more competition or saturation in the market. The graph also shows the challenge of maintaining or increasing engagement in the future, as the projected value for 2023 is lower than the previous years.</p><details><summary style=color:green>Click to reveal code</summary><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ## Engagement Analysis</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Determine the most popular video categories based on the &#34;category_name&#34; column.</span>
</span></span><span class=line><span class=cl><span class=c1># </span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[164]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>plotly.express</span> <span class=k>as</span> <span class=nn>px</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>plotly.io</span> <span class=k>as</span> <span class=nn>pio</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Load your dataset</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;youtube_videos_processed.csv&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group and aggregate data</span>
</span></span><span class=line><span class=cl><span class=n>category_counts</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;category_name&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>value_counts</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>category_counts</span><span class=o>.</span><span class=n>columns</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Category&#39;</span><span class=p>,</span> <span class=s1>&#39;Count&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create an interactive bar plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span><span class=n>category_counts</span><span class=p>,</span> <span class=n>x</span><span class=o>=</span><span class=s1>&#39;Category&#39;</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=s1>&#39;Count&#39;</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;Category&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;Category&#39;</span><span class=p>:</span> <span class=s1>&#39;Video Category&#39;</span><span class=p>,</span> <span class=s1>&#39;Count&#39;</span><span class=p>:</span> <span class=s1>&#39;Number of Videos&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>             <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Popular Video Categories&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Customize the appearance of the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span><span class=n>xaxis_tickangle</span><span class=o>=-</span><span class=mi>45</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the interactive plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;engagement-category-video-numbers.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Calculate the average number of likes and comments for videos in each category.</span>
</span></span><span class=line><span class=cl><span class=c1># </span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[165]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by &#39;category_name&#39; and calculate the mean for &#39;like_count&#39; and &#39;comment_count&#39;</span>
</span></span><span class=line><span class=cl><span class=n>category_likes_comments_avg</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;category_name&#39;</span><span class=p>)[[</span><span class=s1>&#39;like_count&#39;</span><span class=p>,</span> <span class=s1>&#39;comment_count&#39;</span><span class=p>]]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create an interactive bar plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span><span class=n>category_likes_comments_avg</span><span class=p>,</span> <span class=n>x</span><span class=o>=</span><span class=s1>&#39;category_name&#39;</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;like_count&#39;</span><span class=p>,</span> <span class=s1>&#39;comment_count&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>             <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;like_count&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Likes&#39;</span><span class=p>,</span> <span class=s1>&#39;comment_count&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Comments&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=n>color_discrete_sequence</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;darkcyan&#39;</span><span class=p>,</span> <span class=s1>&#39;chocolate&#39;</span><span class=p>],</span> 
</span></span><span class=line><span class=cl>             <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Average Likes and Comments by Video Category&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Customize the layout</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span><span class=n>tickangle</span><span class=o>=</span><span class=mi>45</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span><span class=n>xaxis_title</span><span class=o>=</span><span class=s1>&#39;Video Category&#39;</span><span class=p>,</span> <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>&#39;Average Count&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;engagement-category-likes-comments.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Do videos published on specific days or months tend to get more engagement</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Days</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[166]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Convert the &#34;published_at&#34; column to datetime</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;published_at&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>to_datetime</span><span class=p>(</span><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;published_at&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Extract the day of the week from the &#34;published_at&#34; column</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;day_of_week&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;published_at&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>dt</span><span class=o>.</span><span class=n>day_name</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Specify the desired order of days of the week</span>
</span></span><span class=line><span class=cl><span class=n>day_order</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;Monday&#34;</span><span class=p>,</span> <span class=s2>&#34;Tuesday&#34;</span><span class=p>,</span> <span class=s2>&#34;Wednesday&#34;</span><span class=p>,</span> <span class=s2>&#34;Thursday&#34;</span><span class=p>,</span> <span class=s2>&#34;Friday&#34;</span><span class=p>,</span> <span class=s2>&#34;Saturday&#34;</span><span class=p>,</span> <span class=s2>&#34;Sunday&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by day of the week and calculate the average engagement</span>
</span></span><span class=line><span class=cl><span class=n>engagement_by_day</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;day_of_week&#39;</span><span class=p>)[</span><span class=s1>&#39;like_count&#39;</span><span class=p>,</span> <span class=s1>&#39;comment_count&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Calculate the total engagement as the sum of likes and comments</span>
</span></span><span class=line><span class=cl><span class=n>engagement_by_day</span><span class=p>[</span><span class=s1>&#39;total_engagement&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>engagement_by_day</span><span class=p>[</span><span class=s1>&#39;like_count&#39;</span><span class=p>]</span> <span class=o>+</span> <span class=n>engagement_by_day</span><span class=p>[</span><span class=s1>&#39;comment_count&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a bar plot to visualize the correlation</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>engagement_by_day</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;day_of_week&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;total_engagement&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Average Engagement by Day of the Week&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;day_of_week&#39;</span><span class=p>:</span> <span class=s1>&#39;Day of the Week&#39;</span><span class=p>,</span> <span class=s1>&#39;total_engagement&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Engagement&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>color_discrete_sequence</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;cadetblue&#39;</span><span class=p>],</span>  <span class=c1># Set the color to olive</span>
</span></span><span class=line><span class=cl>    <span class=n>category_orders</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;day_of_week&#34;</span><span class=p>:</span> <span class=n>day_order</span><span class=p>}</span>  <span class=c1># Set the desired order</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;engagement-days.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Months</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[167]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Extract the month from the &#34;published_at&#34; column</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;month&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;published_at&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>dt</span><span class=o>.</span><span class=n>month_name</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Define the order of months</span>
</span></span><span class=line><span class=cl><span class=n>month_order</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>calendar</span><span class=o>.</span><span class=n>month_name</span><span class=p>)[</span><span class=mi>1</span><span class=p>:]</span>  <span class=c1># Get month names in order</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by month and calculate the average engagement</span>
</span></span><span class=line><span class=cl><span class=n>engagement_by_month</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;month&#39;</span><span class=p>)[</span><span class=s1>&#39;like_count&#39;</span><span class=p>,</span> <span class=s1>&#39;comment_count&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Calculate the total engagement as the sum of likes and comments</span>
</span></span><span class=line><span class=cl><span class=n>engagement_by_month</span><span class=p>[</span><span class=s1>&#39;total_engagement&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>engagement_by_month</span><span class=p>[</span><span class=s1>&#39;like_count&#39;</span><span class=p>]</span> <span class=o>+</span> <span class=n>engagement_by_month</span><span class=p>[</span><span class=s1>&#39;comment_count&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sort the data by month order</span>
</span></span><span class=line><span class=cl><span class=n>engagement_by_month</span><span class=p>[</span><span class=s1>&#39;month&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Categorical</span><span class=p>(</span><span class=n>engagement_by_month</span><span class=p>[</span><span class=s1>&#39;month&#39;</span><span class=p>],</span> <span class=n>categories</span><span class=o>=</span><span class=n>month_order</span><span class=p>,</span> <span class=n>ordered</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>engagement_by_month</span> <span class=o>=</span> <span class=n>engagement_by_month</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=s1>&#39;month&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a bar plot to visualize the correlation</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>engagement_by_month</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;month&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;total_engagement&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Average Engagement by Month&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;month&#39;</span><span class=p>:</span> <span class=s1>&#39;Month&#39;</span><span class=p>,</span> <span class=s1>&#39;total_engagement&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Engagement&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>color_discrete_sequence</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;darkkhaki&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;engagement-months.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Years</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[168]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Extract the year from the &#34;published_at&#34; column</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;year&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;published_at&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>dt</span><span class=o>.</span><span class=n>year</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by year and calculate the average engagement</span>
</span></span><span class=line><span class=cl><span class=n>engagement_by_year</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;year&#39;</span><span class=p>)[</span><span class=s1>&#39;like_count&#39;</span><span class=p>,</span> <span class=s1>&#39;comment_count&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Calculate the total engagement as the sum of likes and comments</span>
</span></span><span class=line><span class=cl><span class=n>engagement_by_year</span><span class=p>[</span><span class=s1>&#39;total_engagement&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>engagement_by_year</span><span class=p>[</span><span class=s1>&#39;like_count&#39;</span><span class=p>]</span> <span class=o>+</span> <span class=n>engagement_by_year</span><span class=p>[</span><span class=s1>&#39;comment_count&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a bar plot to visualize the correlation</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>engagement_by_year</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;year&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;total_engagement&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Average Engagement by Year&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;year&#39;</span><span class=p>:</span> <span class=s1>&#39;Year&#39;</span><span class=p>,</span> <span class=s1>&#39;total_engagement&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Engagement&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>color_discrete_sequence</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;steelblue&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show all years on the x-axis</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span><span class=n>tickmode</span><span class=o>=</span><span class=s1>&#39;linear&#39;</span><span class=p>,</span> <span class=n>tick0</span><span class=o>=</span><span class=n>engagement_by_year</span><span class=p>[</span><span class=s1>&#39;year&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>min</span><span class=p>(),</span> <span class=n>dtick</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;engagement-years.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[110]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   
</span></span></code></pre></div></details><h4 id=duration-analysis>Duration Analysis:</h4><p>For this analysis, I aim to understand the role of video duration in YouTube content. I use the &lsquo;video_duration&rsquo; column to measure the length of videos and then compare it with the &rsquo;engagement&rsquo; column, which is calculated as the sum of likes, and comments. This allows me to answer the following questions:</p><p><em>1. Analyze whether there&rsquo;s a correlation between video duration and engagement:</em></p><p>This allows me to see if longer or shorter videos tend to get more interaction from viewers.</p><!-- Embed the Plotly plot using an iframe --><iframe src=duration-engagement-scatter.html width=800 height=600 frameborder=0></iframe><p>The scatter plot shows the relationship between video duration and number of engagements. It implies that there is a negative correlation between the two variables, meaning that videos with shorter durations tend to have more engagements than videos with longer durations. This could suggest that the viewers have a short attention span or prefer concise and fast-paced content. The plot also shows some exceptions, where videos with longer durations have high number of engagements. These could be videos that are very captivating, informative, or entertaining.</p><p><em>2. Calculate the average duration of videos in different categories?</em></p><p>I also calculate the &lsquo;Average duration of videos in different categories&rsquo; by grouping the videos by their &lsquo;category_name&rsquo; column. This helps me identify the typical length of videos in various genres and how they differ from each other.</p><!-- Embed the Plotly plot using an iframe --><iframe src=duration-category.html width=800 height=600 frameborder=0></iframe><p>The bar graph shows the average duration of videos by category. It indicates that the videos in the Education category are the longest, while the videos in the Science & Technology category are the shortest. This could reflect the different purposes and formats of the videos in each category. For example, the Education videos might be longer because they aim to teach or explain complex topics, while the Science & Technology videos might be shorter because they showcase or demonstrate innovations or discoveries. The graph also shows the diversity and variety of the video content available.</p><p><em>3. Calculate the average duration of videos published in each month or year?</em></p><p>Furthermore, I calculate the &lsquo;Average duration of videos published in each month or year&rsquo; by extracting the month and year from the &lsquo;published_at&rsquo; column. This enables me to discover any trends or patterns in video length over time and how they relate to viewer preferences. This analysis takes me through the complex relationship between video duration, categories, and publication trends, offering a holistic view of the YouTube landscape.</p><!-- Embed the Plotly plot using an iframe --><iframe src=duration-months.html width=800 height=600 frameborder=0></iframe><p>The bar graph shows the average video duration by month. It suggests that the video duration varies throughout the year, with a peak in July and a dip in December. This could imply that the video creators or the viewers have different preferences or behaviors depending on the season. For example, July might have longer videos because of summer break, vacation, or leisure time. December might have shorter videos because of holidays, family gatherings, or busy schedules. The graph also shows the potential for optimizing video duration in different months to increase engagement.</p><iframe src=duration-years.html width=800 height=600 frameborder=0></iframe><p>The bar graph shows the average video duration by year. It indicates that the video duration has changed over time, with an increasing trend from 2012 to 2018, and a decreasing trend from 2020 to 2022. This could reflect the evolution of the video content, the platform, or the audience. For example, 2018 might have longer videos because of more in-depth or complex topics, more interactive or live features, or more loyal or engaged viewers. 2022 might have shorter videos because of more concise or simple topics, more short-form or ephemeral features, or more casual or diverse viewers. The graph also shows the challenge of adapting to the changing preferences and expectations of the video market.</p><details><summary style=color:green>Click to reveal code</summary><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ## Duration Analysis</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Analyze if there&#39;s a relationship between video duration (in minutes) and engagement</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[169]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>plotly.graph_objects</span> <span class=k>as</span> <span class=nn>go</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>statsmodels.api</span> <span class=k>as</span> <span class=nn>sm</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Calculate engagement column</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;engagement&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;like_count&#39;</span><span class=p>]</span> <span class=o>+</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;comment_count&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Filter out records with duration greater than 200 minutes</span>
</span></span><span class=line><span class=cl><span class=n>filtered_data</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[(</span><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=mi>240</span><span class=p>)</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;engagement&#39;</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mf>2e6</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=c1># filtered_data = youtube_videos_processed[youtube_videos_processed[&#39;duration_minutes&#39;] &lt;= 120]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Define a function to fit a kernel regression</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>kernel_regression</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>bandwidth</span><span class=o>=</span><span class=mf>1.0</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Create a lowess kernel regression model</span>
</span></span><span class=line><span class=cl>    <span class=n>lowess</span> <span class=o>=</span> <span class=n>sm</span><span class=o>.</span><span class=n>nonparametric</span><span class=o>.</span><span class=n>lowess</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>lowess</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>frac</span><span class=o>=</span><span class=mi>1</span><span class=o>/</span><span class=n>bandwidth</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span><span class=p>[:,</span> <span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Fit kernel regression for comments</span>
</span></span><span class=line><span class=cl><span class=n>engagement_smoothed</span> <span class=o>=</span> <span class=n>kernel_regression</span><span class=p>(</span><span class=n>filtered_data</span><span class=p>[</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>],</span> <span class=n>filtered_data</span><span class=p>[</span><span class=s1>&#39;engagement&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a scatter plot for video duration vs. number of comments along with kernel regression curves</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>scatter</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>filtered_data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;engagement&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Video Duration vs. Number of Engagements&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>:</span> <span class=s1>&#39;Duration (minutes)&#39;</span><span class=p>,</span> <span class=s1>&#39;engagement&#39;</span><span class=p>:</span> <span class=s1>&#39;Number of Engagements&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>opacity</span><span class=o>=</span><span class=mf>0.6</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>size</span><span class=o>=</span><span class=s1>&#39;engagement&#39;</span><span class=p>,</span>  <span class=c1># Set the size based on engagement values</span>
</span></span><span class=line><span class=cl>    <span class=n>size_max</span><span class=o>=</span><span class=mi>30</span>  <span class=c1># Adjust the maximum marker size as needed</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;duration-engagement-scatter.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[ ]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Calculate the average duration of videos in different categories</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[170]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by category_name and calculate the average duration for each category</span>
</span></span><span class=line><span class=cl><span class=n>average_duration_by_category</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;category_name&#39;</span><span class=p>)[</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a bar plot using Plotly</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>average_duration_by_category</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;category_name&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Average Duration of Videos by Category&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Duration (minutes)&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>color</span><span class=o>=</span><span class=s1>&#39;category_name&#39;</span><span class=p>,</span>  <span class=c1># Use different colors for each category bar</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Customize the layout of the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>&#39;Category&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>&#39;Average Duration (minutes)&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>xaxis</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;categoryorder&#39;</span><span class=p>:</span> <span class=s1>&#39;total descending&#39;</span><span class=p>},</span>  <span class=c1># Sort the categories by total duration in descending order</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Add data labels to the bars</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_traces</span><span class=p>(</span><span class=n>texttemplate</span><span class=o>=</span><span class=s1>&#39;%</span><span class=si>{y:.2f}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>textposition</span><span class=o>=</span><span class=s1>&#39;outside&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;duration-category.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Calculate the average duration of videos published in each month or year</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[171]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>calendar</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Extract the month and year from the &#34;published_at&#34; column</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;month&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;published_at&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>dt</span><span class=o>.</span><span class=n>month_name</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;year&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;published_at&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>dt</span><span class=o>.</span><span class=n>year</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by month and calculate the average video duration</span>
</span></span><span class=line><span class=cl><span class=n>average_duration_by_month</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;month&#39;</span><span class=p>)[</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sort the data by the order of months</span>
</span></span><span class=line><span class=cl><span class=n>month_order</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>calendar</span><span class=o>.</span><span class=n>month_name</span><span class=p>)[</span><span class=mi>1</span><span class=p>:]</span>  <span class=c1># Get month names in order</span>
</span></span><span class=line><span class=cl><span class=n>average_duration_by_month</span><span class=p>[</span><span class=s1>&#39;month&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Categorical</span><span class=p>(</span><span class=n>average_duration_by_month</span><span class=p>[</span><span class=s1>&#39;month&#39;</span><span class=p>],</span> <span class=n>categories</span><span class=o>=</span><span class=n>month_order</span><span class=p>,</span> <span class=n>ordered</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>average_duration_by_month</span> <span class=o>=</span> <span class=n>average_duration_by_month</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=s1>&#39;month&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a bar plot to visualize the average duration by month</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>average_duration_by_month</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;month&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Average Video Duration by Month&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;month&#39;</span><span class=p>:</span> <span class=s1>&#39;Month&#39;</span><span class=p>,</span> <span class=s1>&#39;duration_minutes&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Duration (minutes)&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>color_discrete_sequence</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;darkgoldenrod&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;duration-months.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by year and calculate the average video duration</span>
</span></span><span class=line><span class=cl><span class=n>average_duration_by_year</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;year&#39;</span><span class=p>)[</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a bar plot to visualize the average duration by year</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>average_duration_by_year</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;year&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;duration_minutes&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Average Video Duration by Year&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;year&#39;</span><span class=p>:</span> <span class=s1>&#39;Year&#39;</span><span class=p>,</span> <span class=s1>&#39;duration_minutes&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Duration (minutes)&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>color_discrete_sequence</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;chocolate&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;duration-years.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Determine if there&#39;s a trend in the number of videos published each year.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[172]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by year and count the number of videos published each year</span>
</span></span><span class=line><span class=cl><span class=n>videos_published_by_year</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;year&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>size</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>&#39;count&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a line plot to visualize the trend in the number of videos published each year</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>line</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>videos_published_by_year</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;year&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;count&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Trend in Number of Videos Published Each Year&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;year&#39;</span><span class=p>:</span> <span class=s1>&#39;Year&#39;</span><span class=p>,</span> <span class=s1>&#39;count&#39;</span><span class=p>:</span> <span class=s1>&#39;Number of Videos Published&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>markers</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># Show markers on data points</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;video-numbers-year.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Analyze whether video engagement metrics have changed over the years.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[174]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by year and calculate the average likes and comments for each year</span>
</span></span><span class=line><span class=cl><span class=n>engagement_over_time</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;year&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>agg</span><span class=p>({</span><span class=s1>&#39;engagement&#39;</span><span class=p>:</span> <span class=s1>&#39;mean&#39;</span><span class=p>})</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a line plot to visualize the change in average likes over the years</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>line</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>engagement_over_time</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;year&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;engagement&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Change in Average Engagement Over the Years&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;year&#39;</span><span class=p>:</span> <span class=s1>&#39;Year&#39;</span><span class=p>,</span> <span class=s1>&#39;engagement&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Engagements&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>markers</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># Show markers on data points</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plots</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;engagement-year-line.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   
</span></span></code></pre></div></details><h4 id=text-analysis>Text Analysis:</h4><p>In this section, I aim to understand the power of video titles in YouTube content. I use the &rsquo;title&rsquo; column to extract the text of video titles and then apply a sentiment analysis tool to classify them as positive, negative, or neutral. Then, I will proivde answers to the following questions:</p><p><em>1. Perform sentiment analysis on video titles. Are positive, neutral, or negative titles more engaging?</em></p><p>This allows me to &lsquo;Perform sentiment analysis on video titles&rsquo; and see how the tone of titles affects the engagement of videos.</p><!-- Embed the Plotly plot using an iframe --><iframe src=sentiment-engagement.html width=800 height=600 frameborder=0></iframe><p>The bar graph shows the average engagement score by sentiment. It reveals that the neutral sentiment has the highest average engagement score, followed by the positive sentiment, and the negative sentiment has the lowest average engagement score. This could suggest that the viewers are more interested or curious about the videos that have a neutral tone or perspective, rather than those that have a positive or negative tone or perspective. This could also imply that the viewers are more likely to engage with videos that are balanced, objective, or informative, rather than those that are biased, subjective, or emotional. The graph also shows the importance of understanding the audience&rsquo;s preferences and expectations when creating video content.</p><p><em>2. Analyze the most common words or phrases in video titles?</em></p><p>I also analyze the &lsquo;Most common words or phrases in video titles&rsquo; by using a word frequency tool to count the occurrence of words or phrases in the titles. This helps me identify the most popular topics or keywords in video titles and how they relate to viewer interests. This analysis takes me through the secrets of video titles, revealing how they influence viewer behavior and preferences.</p><!-- Embed the Plotly plot using an iframe --><iframe src=sentiment-wordcloud.html width=800 height=600 frameborder=0></iframe><p>The word cloud image shows the terms related to artificial intelligence. It suggests that artificial intelligence is a central and prominent topic that has many associations and implications. The words around it are in different colors and sizes, indicating the diversity and complexity of the artificial intelligence field. The words also reflect the different aspects, perspectives, or opinions on artificial intelligence, such as its tools, applications, benefits, risks, or challenges. For example, &ldquo;robot&rdquo; might be related to the technology or innovation of artificial intelligence. &ldquo;Future&rdquo; might be related to the vision or expectation of artificial intelligence. &ldquo;Elon Musk&rdquo; might be related to the influence or controversy of artificial intelligence. The word cloud also shows the interest or curiosity of the viewers or the creators about artificial intelligence.</p><iframe src=sentiment-word-bar.html width=800 height=600 frameborder=0></iframe><p>The bar graph shows the frequency of the most common words/phrases in video titles. It indicates that the video titles tend to use words/phrases that are related to animals, humor, emotions, nature, science, or the world. This could reflect the popularity or appeal of these topics among the viewers or the creators. For example, &ldquo;animal&rdquo; might be the most common word/phrase because it attracts attention, curiosity, or empathy from the viewers. &ldquo;Humanity&rdquo; might be the least common word/phrase because it is too vague, abstract, or controversial for the viewers. The graph also shows the potential for creating video titles that are catchy, relevant, or unique.</p><details><summary style=color:green>Click to reveal code</summary><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ## Text Analysis</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Perform sentiment analysis on video titles. Are positive or negative titles more engaging?</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[175]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>textblob</span> <span class=kn>import</span> <span class=n>TextBlob</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Function to perform sentiment analysis and return labels</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_sentiment</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>analysis</span> <span class=o>=</span> <span class=n>TextBlob</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Define the sentiment labels</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>analysis</span><span class=o>.</span><span class=n>sentiment</span><span class=o>.</span><span class=n>polarity</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;Positive&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>analysis</span><span class=o>.</span><span class=n>sentiment</span><span class=o>.</span><span class=n>polarity</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;Negative&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;Neutral&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Apply sentiment analysis to the &#39;title&#39; column and create a new column &#39;sentiment&#39;</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;sentiment&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;title&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>get_sentiment</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[176]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Calculate the engagement score for each video</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;engagement&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;like_count&#39;</span><span class=p>]</span> <span class=o>+</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;comment_count&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Group the data by &#39;sentiment&#39; and calculate the average engagement score</span>
</span></span><span class=line><span class=cl><span class=n>sentiment_engagement</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;sentiment&#39;</span><span class=p>)[</span><span class=s1>&#39;engagement&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sort the DataFrame by average engagement score in descending order</span>
</span></span><span class=line><span class=cl><span class=n>sentiment_engagement</span> <span class=o>=</span> <span class=n>sentiment_engagement</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>&#39;engagement&#39;</span><span class=p>,</span> <span class=n>ascending</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a bar plot using Plotly</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>sentiment_engagement</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;sentiment&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;engagement&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Average Engagement Score by Sentiment&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;sentiment&#39;</span><span class=p>:</span> <span class=s1>&#39;Sentiment&#39;</span><span class=p>,</span> <span class=s1>&#39;engagement&#39;</span><span class=p>:</span> <span class=s1>&#39;Average Engagement Score&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>color</span><span class=o>=</span><span class=s1>&#39;sentiment&#39;</span><span class=p>,</span>  <span class=c1># Use different colors for each sentiment</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sort the bars in descending order</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span><span class=n>categoryorder</span><span class=o>=</span><span class=s1>&#39;total descending&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;sentiment-engagement.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ### Analyze the most common words or phrases in video titles</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[177]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>nltk</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>nltk.corpus</span> <span class=kn>import</span> <span class=n>stopwords</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>wordcloud</span> <span class=kn>import</span> <span class=n>WordCloud</span>  <span class=c1># You&#39;ll need the wordcloud library for this</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Download NLTK stopwords if not already downloaded</span>
</span></span><span class=line><span class=cl><span class=n>nltk</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=s1>&#39;stopwords&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Define a function to clean the text and remove symbols</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>clean_text</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Remove symbols and special characters</span>
</span></span><span class=line><span class=cl>    <span class=n>cleaned_text</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;[^\w\s]&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>cleaned_text</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Apply the clean_text function to your video titles</span>
</span></span><span class=line><span class=cl><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;cleaned_title&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;title&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>clean_text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Combine all titles into a single string</span>
</span></span><span class=line><span class=cl><span class=n>titles</span> <span class=o>=</span> <span class=s2>&#34; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>youtube_videos_processed</span><span class=p>[</span><span class=s1>&#39;cleaned_title&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Convert the text to lowercase and split it into words</span>
</span></span><span class=line><span class=cl><span class=n>words</span> <span class=o>=</span> <span class=n>titles</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Remove common stopwords (e.g., &#39;the&#39;, &#39;and&#39;, &#39;is&#39;) from the list of words</span>
</span></span><span class=line><span class=cl><span class=n>stop_words</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>stopwords</span><span class=o>.</span><span class=n>words</span><span class=p>(</span><span class=s1>&#39;english&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>filtered_words</span> <span class=o>=</span> <span class=p>[</span><span class=n>word</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>words</span> <span class=k>if</span> <span class=n>word</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>stop_words</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a Word Cloud</span>
</span></span><span class=line><span class=cl><span class=n>wordcloud</span> <span class=o>=</span> <span class=n>WordCloud</span><span class=p>(</span><span class=n>width</span><span class=o>=</span><span class=mi>1600</span><span class=p>,</span> <span class=n>height</span><span class=o>=</span><span class=mi>800</span><span class=p>,</span> <span class=n>max_words</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>background_color</span><span class=o>=</span><span class=s1>&#39;white&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>generate</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>filtered_words</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a figure for the Word Cloud</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=n>wordcloud</span><span class=p>,</span> <span class=n>color_continuous_scale</span><span class=o>=</span><span class=s1>&#39;Viridis&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Hide axis labels and ticks for a cleaner appearance</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span><span class=n>showticklabels</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>update_yaxes</span><span class=p>(</span><span class=n>showticklabels</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the Word Cloud</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;sentiment-wordcloud.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In[179]:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>Counter</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Convert the text to lowercase and split it into words</span>
</span></span><span class=line><span class=cl><span class=n>words</span> <span class=o>=</span> <span class=n>titles</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Remove common stopwords (e.g., &#39;the&#39;, &#39;and&#39;, &#39;is&#39;) from the list of words</span>
</span></span><span class=line><span class=cl><span class=n>stop_words</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>stopwords</span><span class=o>.</span><span class=n>words</span><span class=p>(</span><span class=s1>&#39;english&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>filtered_words</span> <span class=o>=</span> <span class=p>[</span><span class=n>word</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>words</span> <span class=k>if</span> <span class=n>word</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>stop_words</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Calculate word frequencies</span>
</span></span><span class=line><span class=cl><span class=n>word_freq</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=n>filtered_words</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a DataFrame from the word frequencies</span>
</span></span><span class=line><span class=cl><span class=n>word_freq_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>word_freq</span><span class=o>.</span><span class=n>items</span><span class=p>(),</span> <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;Word&#39;</span><span class=p>,</span> <span class=s1>&#39;Frequency&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sort the DataFrame by frequency in descending order</span>
</span></span><span class=line><span class=cl><span class=n>word_freq_df</span> <span class=o>=</span> <span class=n>word_freq_df</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>&#39;Frequency&#39;</span><span class=p>,</span> <span class=n>ascending</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Select the top N most common words/phrases to display</span>
</span></span><span class=line><span class=cl><span class=n>top_n</span> <span class=o>=</span> <span class=mi>20</span>  <span class=c1># You can adjust this value as needed</span>
</span></span><span class=line><span class=cl><span class=n>top_words</span> <span class=o>=</span> <span class=n>word_freq_df</span><span class=o>.</span><span class=n>head</span><span class=p>(</span><span class=n>top_n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a bar plot using Plotly</span>
</span></span><span class=line><span class=cl><span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>top_words</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span><span class=o>=</span><span class=s1>&#39;Frequency&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=o>=</span><span class=s1>&#39;Word&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s1>&#39;Most Common Words/Phrases in Video Titles&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;Frequency&#39;</span><span class=p>:</span> <span class=s1>&#39;Frequency&#39;</span><span class=p>,</span> <span class=s1>&#39;Word&#39;</span><span class=p>:</span> <span class=s1>&#39;Word/Phrase&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>orientation</span><span class=o>=</span><span class=s1>&#39;v&#39;</span><span class=p>,</span>  <span class=c1># Horizontal bar plot</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show the plot</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Save the intercative plot</span>
</span></span><span class=line><span class=cl><span class=n>pio</span><span class=o>.</span><span class=n>write_html</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=s1>&#39;sentiment-word-bar.html&#39;</span><span class=p>,</span> <span class=n>auto_open</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_plotlyjs</span><span class=o>=</span><span class=s1>&#39;cdn&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   
</span></span></code></pre></div></details></div><div class=article-tags><a class="badge badge-light" href=/tag/data-science/>Data Science</a>
<a class="badge badge-light" href=/tag/web-scraping/>Web Scraping</a>
<a class="badge badge-light" href=/tag/sql/>SQL</a>
<a class="badge badge-light" href=/tag/sentiment-analysis/>Sentiment Analysis</a>
<a class="badge badge-light" href=/tag/deep-learning/>Deep Learning</a></div><div class=share-box><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Frezamehrizi.github.io%2Fproject%2Fweb-scrapping%2F&amp;text=Web+Scraping+Insights+from+AI+Related+YouTube+Videos" target=_blank rel=noopener class=share-btn-twitter aria-label=twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Frezamehrizi.github.io%2Fproject%2Fweb-scrapping%2F&amp;t=Web+Scraping+Insights+from+AI+Related+YouTube+Videos" target=_blank rel=noopener class=share-btn-facebook aria-label=facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=Web%20Scraping%20Insights%20from%20AI%20Related%20YouTube%20Videos&amp;body=https%3A%2F%2Frezamehrizi.github.io%2Fproject%2Fweb-scrapping%2F" target=_blank rel=noopener class=share-btn-email aria-label=envelope><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Frezamehrizi.github.io%2Fproject%2Fweb-scrapping%2F&amp;title=Web+Scraping+Insights+from+AI+Related+YouTube+Videos" target=_blank rel=noopener class=share-btn-linkedin aria-label=linkedin-in><i class="fab fa-linkedin-in"></i></a></li><li><a href="whatsapp://send?text=Web+Scraping+Insights+from+AI+Related+YouTube+Videos%20https%3A%2F%2Frezamehrizi.github.io%2Fproject%2Fweb-scrapping%2F" target=_blank rel=noopener class=share-btn-whatsapp aria-label=whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Frezamehrizi.github.io%2Fproject%2Fweb-scrapping%2F&amp;title=Web+Scraping+Insights+from+AI+Related+YouTube+Videos" target=_blank rel=noopener class=share-btn-weibo aria-label=weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="media author-card content-widget-hr"><a href=https://rezamehrizi.github.io/><img class="avatar mr-3 avatar-circle" src=/authors/admin/avatar_hu2f5ff6798fc6a4a0636fcc8f3fed2e7b_2331574_270x270_fill_lanczos_center_3.png alt="Reza Mehrzi"></a><div class=media-body><h5 class=card-title><a href=https://rezamehrizi.github.io/>Reza Mehrzi</a></h5><h6 class=card-subtitle>Data Scientist</h6><p class=card-text>My research interests include building and developing predictive models using machine learning methods, deep learning object detection and semantic image segmentation, experimental designs, and survival analysis.</p><ul class=network-icon aria-hidden=true><li><a href=/#contact><i class="fas fa-envelope"></i></a></li><li><a href="https://scholar.google.ca/citations?user=fa3zgGAAAAAJ&amp;hl=en" target=_blank rel=noopener><i class="fas fa-graduation-cap"></i></a></li><li><a href=https://github.com/Rezamehrizi target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://www.linkedin.com/in/reza-mehrizi/ target=_blank rel=noopener><i class="fab fa-linkedin"></i></a></li><li><a href=/uploads/resume.pdf><i class="ai ai-cv"></i></a></li></ul></div></div><div class="project-related-pages content-widget-hr"></div></div></article></div><div class=page-footer><div class=container><footer class=site-footer><p class="powered-by copyright-license-text">© 2023 Me. This work is licensed under <a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank>CC BY NC ND 4.0</a></p><p class="powered-by footer-license-icons"><a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank aria-label="Creative Commons"><i class="fab fa-creative-commons fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-by fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nc fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nd fa-2x" aria-hidden=true></i></a></p><p class=powered-by>Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a> — the free, <a href=https://github.com/wowchemy/wowchemy-hugo-themes target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></div></div><script src=/js/vendor-bundle.min.f64289d8217e08e3afcd597d60836062.js></script>
<script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script>
<script id=page-data type=application/json>{"use_headroom":true}</script><script src=/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js type=module></script>
<script src=/en/js/wowchemy.min.3322c0d94f0e691b0b24c63f4c41064b.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div><script src=/js/wowchemy-publication.68f8d7090562ca65fc6d3cb3f8f2d2cb.js type=module></script></body></html>